<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="600.0" prefWidth="900.0" style="-fx-background-color: #f5f5f5;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.controllers.TicketSummaryController">

    <!-- Top Navigation Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #667eea; -fx-padding: 15;">
            <children>
                <!-- Logo -->
                <ImageView fitHeight="50.0" fitWidth="50.0" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@../Images/iGo_icon.png" />
                    </image>
                </ImageView>

                <!-- Title -->
                <Label text="iGo TVM System" textFill="white">
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>

                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS" />

                <!-- Back Button -->
                <Button onAction="#handleBack" style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 8 20;" text="â† Back" />
            </children>
        </HBox>
    </top>

    <!-- Main Content Area -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="30" style="-fx-padding: 40;">
            <children>
                <!-- Main Heading -->
                <Label text="Ticket Summary" textFill="#333333">
                    <font>
                        <Font name="System Bold" size="36.0" />
                    </font>
                </Label>

                <!-- Summary Card -->
                <VBox alignment="CENTER" maxWidth="500" spacing="20" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 40; -fx-border-color: #ddd; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <children>
                        <!-- Icon -->
                        <Label style="-fx-font-size: 64;" text="ðŸŽ«" />

                        <!-- Ticket Type -->
                        <VBox alignment="CENTER" spacing="5">
                            <Label style="-fx-font-size: 14; -fx-text-fill: #888;" text="Ticket Type" />
                            <Label fx:id="ticketTypeLabel" style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: #333;" text="Single Ticket" />
                        </VBox>

                        <Separator prefWidth="400" />

                        <!-- Zone -->
                        <HBox alignment="CENTER" spacing="100">
                            <VBox alignment="CENTER" spacing="5">
                                <Label style="-fx-font-size: 14; -fx-text-fill: #888;" text="Zone" />
                                <Label fx:id="zoneLabel" style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #667eea;" text="A" />
                            </VBox>

                            <!-- Quantity (if applicable) -->
                            <VBox fx:id="quantityBox" alignment="CENTER" spacing="5" visible="false">
                                <Label style="-fx-font-size: 14; -fx-text-fill: #888;" text="Quantity" />
                                <Label fx:id="quantityLabel" style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #667eea;" text="1" />
                            </VBox>
                        </HBox>

                        <Separator prefWidth="400" />

                        <!-- Price Details -->
                        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 10 0;">
                            <HBox alignment="CENTER" spacing="20">
                                <Label style="-fx-font-size: 16; -fx-text-fill: #666;" text="Ticket Price:" />
                                <Label fx:id="ticketPriceLabel" style="-fx-font-size: 16; -fx-text-fill: #333;" text="\$3.50" />
                            </HBox>

                            <Separator prefWidth="300" />

                            <!-- Total -->
                            <HBox alignment="CENTER" spacing="20">
                                <Label style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #333;" text="Total:" />
                                <Label fx:id="totalLabel" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #667eea;" text="\$3.96" />
                            </HBox>
                        </VBox>

                        <Separator prefWidth="400" />

                        <!-- Additional Info -->
                        <VBox alignment="CENTER" spacing="5">
                            <Label style="-fx-font-size: 12; -fx-text-fill: #888;" text="Valid for 2 hours from purchase" />
                            <Label fx:id="validityLabel" style="-fx-font-size: 12; -fx-text-fill: #888;" text="Covers all transit modes in selected zone" />
                        </VBox>

                    </children>
                </VBox>

                <!-- Action Buttons -->
                <HBox alignment="CENTER" spacing="20">
                    <Button onAction="#handleCancel" prefWidth="150" style="-fx-background-color: #e0e0e0; -fx-text-fill: #333; -fx-background-radius: 8; -fx-padding: 12 25; -fx-font-size: 16;" text="Cancel" />
                    <Button onAction="#handleConfirm" prefWidth="150" style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 12 25; -fx-font-size: 16; -fx-font-weight: bold;" text="Confirm Purchase" />
                </HBox>
            </children>
        </VBox>
    </center>

    <!-- Bottom Footer -->
    <bottom>
        <HBox alignment="CENTER" style="-fx-background-color: #333; -fx-padding: 15;">
            <Label opacity="0.7" text="Â© 2025 iGo TVM System | All Rights Reserved" textFill="white">
                <font>
                    <Font size="12.0" />
                </font>
            </Label>
        </HBox>
    </bottom>
</BorderPane>